---
import experiences from "../collections/experiences.json";
import ExperienceItem from "../components/experience-item.astro";
import Layout from "../layouts/main.astro";
---

<Layout title="Experiences">
  <section class="max-w-4xl mx-auto px-7 lg:px-0">
    <h2
      class="mt-5 mb-2 text-2xl font-bold lg:mt-10 sm:mt-6 dark:text-neutral-200"
    >
      Professional Experiences
    </h2>
    <div class="px-5 py-10">
      {
        experiences
          .toSorted((a, b) => {
            if (b.endDate < a.endDate) return 1;
            if (b.endDate > a.endDate) return -1;
            return 0;
          })
          .filter((experience) => experience.type == "professional")
          .map((experience) => {
            return (
              <>
                <div class="pb-10 border-l border-gray-200 dark:border-neutral-700">
                  <ExperienceItem
                    startDate={experience.startDate}
                    endDate={experience.endDate}
                    role={experience.role}
                    institution={experience.institution.english}
                    description={experience.description.english}
                    logo={experience.logo}
                  />
                </div>
              </>
            );
          })
      }
    </div>
  </section>
  <section class="max-w-4xl mx-auto px-7 lg:px-0">
    <h2
      class="mt-5 mb-2 text-2xl font-bold lg:mt-10 sm:mt-6 dark:text-neutral-200"
    >
      Education
    </h2>
    <div class="px-5 py-10">
      {
        experiences
          .toSorted((a, b) => {
            if (b.endDate < a.endDate) return 1;
            if (b.endDate > a.endDate) return -1;
            return 0;
          })
          .filter((experience) => experience.type == "education")
          .map((experience) => {
            return (
              <>
                <div class="pb-10 border-l border-gray-200 dark:border-neutral-700">
                  <ExperienceItem
                    startDate={experience.startDate}
                    endDate={experience.endDate}
                    role={experience.role}
                    institution={experience.institution.english}
                    description={experience.description.english}
                    logo={experience.logo}
                  />
                </div>
              </>
            );
          })
      }
    </div>
  </section>
</Layout>
